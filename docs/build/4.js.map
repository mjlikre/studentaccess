{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/components/animations.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { Profile } from './profile';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    Profile\n  ],\n  imports: [\n    IonicPageModule.forChild(Profile),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    Profile\n  ]\n})\nexport class ProfileModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","import {\n  trigger,\n  state,\n  style,\n  animate,\n  transition\n} from '@angular/animations';\n\nexport const expand = trigger('expand', [\n  state('true', style({\n    maxHeight: '10em',\n    opacity: '1',\n    padding: '',\n    border: '',\n    minHeight: '',\n    transition: 'all 250ms cubic-bezier(0.420, 0.000, 0.580, 1.000)'\n  })),\n  state('false', style({\n    maxHeight: '0',\n    opacity: '.7',\n    padding: '0',\n    border: 'none',\n    minHeight: '0',\n    transition: 'all 250ms cubic-bezier(0.420, 0.000, 0.580, 1.000)'\n  })),\n  transition('void => *', animate('0s')),\n  transition('* <=> *', animate('250ms ease-in-out'))\n]);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/animations.ts","import { Component } from '@angular/core';\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  AlertController,\n  Loading,\n  LoadingController\n} from 'ionic-angular';\n\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { Store } from '../../providers/store';\nimport { Log } from '../../providers/log';\n\nimport { expand } from '../../components/animations';\n\n@IonicPage()\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n  animations: [ expand ]\n})\nexport class Profile {\n  loading: Loading = this.loadingCtrl.create();\n  schedules: any[] = [];\n  selectedSchedule = {\n    type: '',\n    schedule: []\n  };\n  lang: string;\n\n  missing: any[] = [];\n  showMissing: boolean = false;\n\n  birth: string = '';\n  studentName: string = '';\n  grade: string = '';\n  familyCredit: number = 0.00;\n  studentCredit: number = 0.00;\n  personImage: string = './assets/placeholder.jpg';\n\n  attendance: any[] = [];\n  discipline: any[] = [];\n\n  constructor(\n    private nav: NavController,\n    private navParams: NavParams,\n    private alert: AlertController,\n    private translate: TranslateService,\n    private loadingCtrl: LoadingController,\n    private store: Store,\n    private log: Log,\n  ){}\n  async ionViewDidLoad(){\n    await this.loading.present();\n    try {\n      let login = await this.store.get('LOGIN') || {};\n      this.birth = ( login.birthdate || '' ).replace(/-/ig, ' ');\n      this.studentName = login.person_name;\n      this.grade = login.grade;\n      this.familyCredit = parseFloat( login.credit_family || '0' );\n      this.studentCredit = parseFloat( login.credit_student || '0' );\n\n      let missing = await this.store.get('MISSING');\n      this.missing = missing.missing;\n\n      let schedules = await this.store.get('SCHEDULES');\n      this.lang = this.translate.currentLang;\n      this.schedules = schedules;\n      this.selectedSchedule = schedules[0] || {};\n\n      let img = await this.store.get('IMAGE');\n      this.personImage = img ? `data:image/jpeg;base64,${img}` : './assets/placeholder.jpg';\n\n      let records = await this.store.get('RECORDS');\n      this.attendance = records.attendance;\n      this.discipline = records.discipline;\n    } catch(err){\n      this.log.error(err);\n    }\n    this.loading.dismiss();\n  }\n\n  toggleSchedule(){\n    let inputs = this.schedules.map( el => ({\n      type: 'radio',\n      label: el[this.lang],\n      value: el.type,\n      checked: el.type === this.selectedSchedule.type\n    }) );\n\n    this.alert.create({\n      title: this.translate.instant('PROFILE.SELECT_SCHEDULE'),\n      buttons: [\n        this.translate.instant('GLOBAL.CANCEL'),\n        {\n          text: this.translate.instant('GLOBAL.OK'),\n          handler: type => {\n            this.selectedSchedule = this.schedules.find( schedule => schedule.type === type );\n          }\n        }\n      ],\n      inputs\n    }).present();\n  }\n\n  toggleMissing(){\n    this.showMissing = !this.showMissing;\n  }\n  goSelected( opts ){\n    this.nav.push('Records', opts);\n  }\n  goGrades(){\n    this.nav.setRoot('Grades');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}