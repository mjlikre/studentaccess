!function(e){function t(e,t,n,a,r,s,o,i,c,l){n.debug("run"),s.ready(function(){n.debug("ready"),e.register(),"a"!==ionic.Platform.grade.toLowerCase()&&"b"!==ionic.Platform.grade.toLowerCase()&&t.views.transition("none"),"undefined"!=typeof cordova&&cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),"undefined"!=typeof cordova&&"undefined"!=typeof $cordovaKeyboard&&$cordovaKeyboard.hideAccessoryBar(!0),"undefined"!=typeof StatusBar&&(window.StatusBar.styleDefault(),window.StatuBar.overlaysWebView(!1)),"undefined"!=typeof cordova&&"android"===cordova.platformId&&StatusBar.backgroundColorByHexString("#EEEEEE")}).then(function(){"undefined"!=typeof navigator.splashscreen&&r(function(){navigator.splashscreen.hide()},500)}),i.$on("$stateChangeStart",function(e,t,n,a){navigator.onLine===!0?i.connection="online":i.connection="offline",i.online=navigator.onLine,"true"!==window.localStorage.auth&&"login"!==t.name&&(e.preventDefault(),c.go("login"))}),a.Cache(["img/bg-mild.jpg","img/bg-dark.jpg","img/bg-light.jpg","img/placeholder-rec.jpg","img/placeholder-square.jpg","img/icon.png"]).then(function(){n.debug("Images done loading!")},function(e){n.debug("Image failed: "+e)}),l.addEventListener("offline",function(){i.$apply(function(){i.online=!1,i.connection="offline"}),n.warn("you are now offline")},!1),l.addEventListener("online",function(){i.$apply(function(){i.online=!0,i.connection="online"}),n.warn("you are now online")},!1)}e.module("studentaccess",["ionic","ionic.service.core","ionic-material","ionic.service.analytics","ngCordova","pascalprecht.translate","dcbImgFallback","ionic.ion.imageCacheFactory","chart.js","LocalForageModule"]).run(["$ionicAnalytics","$ionicConfig","$log","$ImageCacheFactory","$timeout","$ionicPlatform","$cordovaSplashscreen","$rootScope","$state","$window",t]).constant("AUTH_EVENTS",{notAuthenticated:"auth-not-authenticated"})}(window.angular),function(){angular.module("studentaccess").run(["$templateCache",function(e){e.put("components/cafeteria/cafeteria.html",'<ion-view name="master-view" class="themeBackgroundColor">\r\n  <ion-nav-title><span translate-once="CAFETERIA-VIEW-TITLE"></span></ion-nav-title>\r\n  <ion-nav-buttons side="left">\r\n    <button class="button button-icon button-clear ion-navicon-round" menu-toggle="left" drawer-toggle></button>\r\n  </ion-nav-buttons>\r\n\r\n  <div class="row custom-row responsive-lg">\r\n    <div class="col custom-col col-50 col-offset-25">\r\n      <div class="searchBar" ng-show="cafeteria.showSearchBar">\r\n        <br>\r\n        <div class="card">\r\n          <ion-item class="item-input">\r\n            <i class="icon ion-search placeholder-icon"></i>\r\n            <input type="text" autofocus translate-once-placeholder="SEARCH" ng-model="cafeteria.searchBar.bar">\r\n            <button ng-click="::cafeteria.emptySearchBar()" class="button-clear">\r\n              <i class="icon ion-close"></i>\r\n            </button>\r\n          </ion-item>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <confetti today="::today" birthday="::birthday"></confetti>\r\n  <ion-content overflow-scroll="true">\r\n    <ion-refresher on-refresh="::cafeteria.refresh()"></ion-refresher>\r\n    <span ng-show="cafeteria.showSearchBar"><br><br></span>\r\n    <div class="row custom-row responsive-lg">\r\n      <div class="col custom-col col-50">\r\n        <br>\r\n        <!--menu-->\r\n        <div class="card">\r\n          <ion-item class="item-divider"><span translate-once="CAFETERIA-TODAYS-FOOD"></span></ion-item>\r\n          <ion-item class="item-border" ng-repeat="item in cafeteria.cafeteriaMenu | orderBy: \'calc_date\'" ng-class="{\'todaysHW\':(item.calc_date == date)}">\r\n            <div class="row custom-row">\r\n              <div class="col custom-col">\r\n                <b>\r\n                  {{::item.calc_date}}:\r\n                </b>\r\n              </div>\r\n              <div class="col custom-col">\r\n                {{::item.calc_menu}}\r\n              </div>\r\n            </div>\r\n          </ion-item>\r\n          <ion-item class="padding" ng-show="!cafeteria.cafeteriaMenu.length"><span translate-once="CAFETERIA-NOFOOD"></span></ion-item>\r\n        </div>\r\n        <br>\r\n        <!--balance history-->\r\n        <div class="card card-fab">\r\n          <div class="title-fab" ng-click="::cafeteria.switch()" >\r\n            <ion-item class="item-divider">\r\n              <span translate-once="CAFETERIA-BALANCE-HISTORY"></span><span ng-show="cafeteria.current"> | {{cafeteria.current|translate}}</span>\r\n            </ion-item>\r\n            <button id="balance-fab" class="button button-fab custom-fab accent-color icon ion-loop"></button>\r\n          </div>\r\n          <ion-item ng-show="(cafeteria.familyTransactions.labels.length && cafeteria.current === \'CAFETERIA-FAMILY\') || (cafeteria.studentTransactions.labels.length && cafeteria.current === \'CAFETERIA-STUDENT\')">\r\n            <canvas class="chart chart-line" chart-data="[cafeteria.chartData]" chart-labels="cafeteria.chartLabels">\r\n            </canvas>\r\n          </ion-item>\r\n          <ion-item ng-show="!cafeteria.familyTransactions.labels.length && cafeteria.current === \'CAFETERIA-FAMILY\'">\r\n            <span translate-once="CAFETERIA-NO-FAMILY-TRANSACTIONS"></span>\r\n          </ion-item>\r\n          <ion-item ng-show="!cafeteria.studentTransactions.labels.length && cafeteria.current === \'CAFETERIA-STUDENT\'">\r\n            <span translate-once="CAFETERIA-NO-STUDENT-TRANSACTIONS"></span>\r\n          </ion-item>\r\n        </div>\r\n      </div>\r\n      <div class="col custom-col col-50">\r\n        <br>\r\n        <!--transactionHistory-->\r\n        <div class="card card-fab">\r\n          <div class="title-fab" ng-click="::cafeteria.doShowSearchBar()" >\r\n            <ion-item class="margin-bottom item-divider">\r\n              <span translate-once="CAFETERIA-TRANSACTION-HISTORY"></span>\r\n            </ion-item>\r\n            <button id="transaction-fab" class="button button-fab custom-fab accent-color icon ion-search"></button>\r\n          </div>\r\n          <ion-item class="custom-item item-text-wrap alternate-colors" ng-repeat="item in cafeteria.transactionHistory | filter:cafeteria.searchBar.bar | limitTo:cafeteria.transactionLimit">\r\n            <div class="row custom-row" ng-show="::item.credhist_method">\r\n              <b class="col custom-col">\r\n                <span translate-once="CAFETERIA-TRANSACTION-METHOD"></span>:\r\n              </b>\r\n              <div class="col custom-col">\r\n                {{::item.credhist_method}}\r\n              </div>\r\n            </div>\r\n            <div class="row custom-row" ng-show="::item.credhist_description">\r\n              <b class="col custom-col">\r\n                <span translate-once="CAFETERIA-TRANSACTION-ITEM"></span>:\r\n              </b>\r\n              <div class="col custom-col">\r\n                {{::item.credhist_description}}\r\n              </div>\r\n            </div>\r\n            <div class="row custom-row" ng-show="::item.credhist_authorized">\r\n              <b class="col custom-col">\r\n                <span translate-once="CAFETERIA-TRANSACTION-AUTHORIZED-BY"></span>:\r\n              </b>\r\n              <div class="col custom-col">\r\n                {{::item.credhist_authorized}}\r\n              </div>\r\n            </div>\r\n            <div class="row custom-row" ng-show="::item.credhist_datetime">\r\n              <b class="col custom-col">\r\n                <span translate-once="CAFETERIA-TRANSACTION-DATE-TIME"></span>:\r\n              </b>\r\n              <div class="col custom-col">\r\n                {{::item.credhist_datetime}}\r\n              </div>\r\n            </div>\r\n            <div class="row custom-row" ng-show="::item.credhist_debit">\r\n              <b class="col custom-col">\r\n                <span translate-once="CAFETERIA-TRANSACTION-PRICE"></span>:\r\n              </b>\r\n              <div class="col custom-col">\r\n                {{::item.credhist_debit|currency}}\r\n              </div>\r\n            </div>\r\n          </ion-item>\r\n          <ion-item ng-show="!(cafeteria.transactionHistory | filter:cafeteria.searchBar.bar).length">\r\n            <span translate-once="CAFETERIA-NOTHING-FOUND"></span>\r\n          </ion-item>\r\n          <ion-item class="item-border" ng-show="(((cafeteria.transactionLimit >= 12) || (cafeteria.transactionHistory.length <= 12)) && (cafeteria.transactionHistory | filter:cafeteria.searchBar.bar).length)" ng-click="::cafeteria.transactionShowLess()">\r\n            <span translate-once="CAFETERIA-SHOW-LESS"></span>\r\n          </ion-item>\r\n          <ion-item ng-show="((cafeteria.transactionLimit < cafeteria.transactionHistory.length) && (cafeteria.transactionHistory | filter:cafeteria.searchBar.bar).length)" ng-click="::cafeteria.transactionShowMore()">\r\n            <span translate-once="CAFETERIA-SHOW-MORE"></span>\r\n          </ion-item>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ion-content>\r\n</ion-view>\r\n'),e.put("components/events/event-details.html",'<ion-view cache-view="false" name="master-view" class="themeBackgroundColor">\r\n  <ion-nav-title>{{::eventsDetails.eventSubject}}</ion-nav-title>\r\n  <ion-nav-buttons side="left">\r\n    <button class="button button-clear" ng-click="::eventsDetails.goEvents()">\r\n      <i class="padding icon icon-left ion-chevron-left"></i>\r\n    </button>\r\n  </ion-nav-buttons>\r\n  <confetti today="::today" birthday="::birthday"></confetti>\r\n  <ion-content overflow-scroll="true">\r\n    <div class="row custom-row responsive-lg">\r\n      <div class="col custom-col col-50 col-offset-25">\r\n        <div style="-webkit-user-select: text;" class="card">\r\n          <ion-item class="item-divider">\r\n            {{::eventsDetails.eventSubject}}\r\n          </ion-item>\r\n          <ion-item ng-show="::eventsDetails.eventText" class="item-text-wrap">\r\n            {{::eventsDetails.eventText}}\r\n          </ion-item>\r\n          <ion-item ng-show="::(eventsDetails.eventCalcStartDate||eventsDetails.eventCalcStartTime||eventsDetails.eventLocation)">\r\n            <div class="row custom-row" ng-show="::eventsDetails.eventCalcStartDate">\r\n              <b class="col custom-col">\r\n                <span translate-once="EVENTS-DATE"></span>:\r\n              </b>\r\n              <div class="col custom-col">\r\n                {{::eventsDetails.eventCalcStartDate}}\r\n              </div>\r\n            </div>\r\n            <div class="row custom-row" ng-show="::eventsDetails.eventCalcStartTime">\r\n              <b class="col custom-col">\r\n                <span translate-once="EVENTS-TIME"></span>:\r\n              </b>\r\n              <div class="col custom-col">\r\n                {{::eventsDetails.eventCalcStartTime}}\r\n              </div>\r\n            </div>\r\n            <div class="row custom-row" ng-show="::eventsDetails.eventLocation">\r\n              <b class="col custom-col">\r\n                <span translate-once="EVENTS-LOCATION"></span>:\r\n              </b>\r\n              <div class="col custom-col">\r\n                {{::eventsDetails.eventLocation}}\r\n              </div>\r\n            </div>\r\n          </ion-item>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ion-content>\r\n</ion-view>\r\n'),e.put("components/events/events.html",'<ion-view name="master-view" class="themeBackgroundColor">\r\n  <ion-nav-title><span translate-once="EVENTS-VIEW-TITLE"></span></ion-nav-title>\r\n  <ion-nav-buttons side="left">\r\n    <button class="button button-icon button-clear ion-navicon-round" menu-toggle="left" drawer-toggle></button>\r\n  </ion-nav-buttons>\r\n  <confetti today="::today" birthday="::birthday"></confetti>\r\n  <ion-content scrollbar-y="false" overflow-scroll="true">\r\n    <ion-refresher on-refresh="::events.refresh()"></ion-refresher>\r\n    <div class="row custom-row responsive-lg">\r\n      <div class="col custom-col col-50 col-offset-25">\r\n        <div ng-repeat="item in events.events" class="card ink" data-ink-color="#E6E6E6" data-ink-opacity="1">\r\n          <ion-item href="#/app/events/{{::item.ev_id}}" class="custom-item item-text-wrap" ng-class="{\'todaysHW\':(item.ev_date_start === date)}">\r\n            <div class="row custom-row">\r\n              <div ng-show="::item.calc_ev_date_start" class="col custom-col">\r\n                <b>{{::item.calc_ev_date_start}}:</b>\r\n              </div>\r\n              <div ng-show="::item.calc_subject" class="col custom-col">\r\n                {{::item.calc_subject}}\r\n              </div>\r\n            </div>\r\n            <div class="row custom-row" ng-show="::item.calc_location">\r\n              <div class="col custom-col">\r\n                <span translate-once="EVENTS-LOCATION"></span>:\r\n              </div>\r\n              <div class="col custom-col">\r\n                {{::item.calc_location}}\r\n              </div>\r\n            </div>\r\n            <div class="row custom-row" ng-show="::item.ev_time_start">\r\n              <div class="col custom-col">\r\n                <span translate-once="EVENTS-TIME"></span>:\r\n              </div>\r\n              <div class="col custom-col">\r\n                {{::item.ev_time_start}}\r\n              </div>\r\n            </div>\r\n          </ion-item>\r\n        </div>\r\n        <div class="card" style="text-align:center" ng-show="!events.events.length">\r\n          <ion-item>\r\n            <span translate-once="EVENTS-NOEVENTS"></span>\r\n          </ion-item>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ion-content>\r\n</ion-view>\r\n'),e.put("components/grades/grades-details.html",'<ion-view cache-view="false" name="master-view" class="themeBackgroundColor">\r\n  <ion-nav-title>{{::gradesDetails.gradeClass}}</ion-nav-title>\r\n  <ion-nav-buttons side="left">\r\n    <button class="button button-clear" ng-click="::gradesDetails.goGrades()">\r\n      <i class="padding icon icon-left ion-chevron-left"></i>\r\n    </button>\r\n  </ion-nav-buttons>\r\n  <confetti today="::today" birthday="::birthday"></confetti>\r\n  <ion-content overflow-scroll="true">\r\n    <div class="row custom-row responsive-lg">\r\n      <div class="col custom-col col-50">\r\n        <div class="card" ng-show="::gradesDetails.gradeTeacherName">\r\n          <ion-item class="item-thumbnail-left item-text-wrap" style="min-height:115px">\r\n            <div class="roundbutton" id="teacherWrapper">\r\n              <img id="teacherPicture" ng-src loading-src="{{::\'img/placeholder-square.jpg\'}}" fallback-src="{{::\'img/placeholder-square.jpg\'}}"/>\r\n            </div>\r\n            <h2 style="padding-top:10px">{{::gradesDetails.gradeTeacherName}}</h2>\r\n            <p class="item-text-wrap" ng-show="::gradesDetails.gradeTeacherEmail">\r\n              <span translate-once="GRADES-TEACHER-EMAIL"></span>:\r\n              <dfn>\r\n                <a href="mailto:{{::gradesDetails.gradeTeacherEmail}}">\r\n                  {{::gradesDetails.gradeTeacherEmail}}\r\n                </a>\r\n              </dfn>\r\n            </p>\r\n            <p class="item-text-wrap" ng-show="::gradesDetails.gradeTeacherPhone">\r\n              <span translate-once="GRADES-TEACHER-PHONE"></span>:\r\n              <dfn>\r\n                <a href="tel:{{::gradesDetails.gradeTeacherPhone}}">\r\n                   {{::gradesDetails.gradeTeacherPhone}}\r\n                </a>\r\n              </dfn>\r\n            </p>\r\n            </ion-item>\r\n        </div>\r\n        <br ng-show="::gradesDetails.gradeAverage">\r\n        <div class="card card-fab">\r\n          <div class="title-fab">\r\n            <ion-item class="item-divider">\r\n              {{::gradesDetails.gradeClass}}\r\n            </ion-item>\r\n             <button class="grade-button button button-fab custom-fab roundbutton" ng-show="gradesDetails.gradeAverage"\r\n                     ng-class="::{\r\n                       \'worstGradeButton\':(gradesDetails.gradeAverage <= 60),\r\n                       \'badGradeButton\':(gradesDetails.gradeAverage < 80 && gradesDetails.gradeAverage > 60),\r\n                       \'okGradeButton\':(gradesDetails.gradeAverage >= 80 && gradesDetails.gradeAverage < 95),\r\n                       \'bestGradeButton\':(gradesDetails.gradeAverage >= 95)\r\n                     }"\r\n                     style="-webkit-mask-image: none"><!--to prevent button activation-->\r\n                {{::gradesDetails.gradeAverage}}\r\n              </button>\r\n          </div>\r\n          <ion-item class="item-text-wrap">\r\n            {{::gradesDetails.gradeClassDesc}}\r\n            <span ng-show="::gradesDetails.gradeClassDesc"><br><br></span>\r\n            <div class="row custom-row" ng-show="::gradesDetails.gradeClassPeriod">\r\n              <b class="col custom-col">\r\n                <span translate-once="GRADES-CLASS-PERIOD"></span>:\r\n              </b>\r\n              <div class="col custom-col">\r\n                {{::gradesDetails.gradeClassPeriod}}\r\n              </div>\r\n            </div>\r\n            <div class="row custom-row" ng-show="::gradesDetails.gradeClassRoom">\r\n              <b class="col custom-col">\r\n                <span translate-once="GRADES-CLASS-ROOM"></span>:\r\n              </b>\r\n              <div class="col custom-col">\r\n                {{::gradesDetails.gradeClassRoom}}\r\n              </div>\r\n            </div>\r\n            <div class="row custom-row" ng-show="::gradesDetails.gradeBreakdown">\r\n              <b class="col custom-col">\r\n                <span translate-once="GRADES-BREAKDOWN"></span>:\r\n              </b>\r\n              <div class="col custom-col">\r\n                {{::gradesDetails.gradeBreakdown}}\r\n              </div>\r\n            </div>\r\n            <div class="row custom-row" ng-show="::gradesDetails.gradeLastUpdate">\r\n              <b class="col custom-col">\r\n                <span translate-once="GRADES-LAST-UPDATED"></span>:\r\n              </b>\r\n              <div class="col custom-col">\r\n                {{::gradesDetails.gradeLastUpdate}}\r\n              </div>\r\n            </div>\r\n          </ion-item>\r\n        </div>\r\n      </div>\r\n      <div class="col custom-col col-50">\r\n        <div class="card">\r\n          <ion-item class="item-divider margin-bottom"><span translate-once="GRADES-GRADES"></span></ion-item>\r\n          <ion-item class="item-text-wrap alternate-colors" ng-repeat="item in ::gradesDetails.gradeGrades | orderBy:\'-gra_date_due\'">\r\n            <div class="row" style="padding:0;margin:0;">\r\n              <b id="classDateVert">\r\n                {{::item.calc_date}}\r\n              </b>\r\n              <div class="col custom-col">\r\n                <b>{{::item.grc_code}}:</b> {{::item.gra_name}}\r\n                <br>\r\n                <b><span translate-once="GRADES-YOUR-GRADE"></span>: </b>\r\n                {{::item.grs_score}}/{{::item.gra_points}}\r\n                <span ng-show="item.grs_score && item.gra_points && gradesDetails.isFinite(item.grs_score/item.gra_points)"\r\n                 ng-class="{\r\n                   \'worstGrade\':((item.grs_score/item.gra_points) <= .60),\r\n                   \'badGrade\':((item.grs_score/item.gra_points) > .60 && (item.grs_score/item.gra_points) < .85),\r\n                   \'goodGrade\':((item.grs_score/item.gra_points) >= .85 && (item.grs_score/item.gra_points) < .95),\r\n                   \'bestGrade\':((item.grs_score/item.gra_points) >= .95)\r\n                 }">({{::gradesDetails.Math.floor(item.grs_score/item.gra_points * 100)}}%)</span>\r\n                <br>\r\n                <b><span translate-once="GRADES-CLASS-AVERAGE"></span>: </b>\r\n                {{::item.gra_avg}}/{{::item.gra_points}}\r\n                <span ng-show="item.gra_avg && item.gra_points && gradesDetails.isFinite(item.gra_avg/item.gra_points)"\r\n                 ng-class="{\r\n                   \'worstGrade\':((item.gra_avg/item.gra_points) <= .60),\r\n                   \'badGrade\':((item.gra_avg/item.gra_points) > .60 && (item.gra_avg/item.gra_points) < .85),\r\n                   \'goodGrade\':((item.gra_avg/item.gra_points) >= .85 && (item.gra_avg/item.gra_points) < .95),\r\n                   \'bestGrade\':((item.gra_avg/item.gra_points) >= .95)\r\n                 }">({{::gradesDetails.Math.floor(item.gra_avg/item.gra_points * 100)}}%)</span>\r\n              </div>\r\n            </div>\r\n          </ion-item>\r\n          <ion-item class="alternate-colors" ng-show="!gradesDetails.gradeGrades.length"><span translate-once="GRADES-NO-GRADES-LIST"></span></ion-item>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ion-content>\r\n</ion-view>\r\n'),e.put("components/grades/grades.html",'<ion-view name="master-view" class="themeBackgroundColor">\r\n  <ion-nav-title><span translate-once="GRADES-VIEW-TITLE"></span></ion-nav-title>\r\n  <ion-nav-buttons side="left">\r\n    <button class="button button-icon button-clear ion-navicon-round" menu-toggle="left" drawer-toggle></button>\r\n  </ion-nav-buttons>\r\n  <confetti today="::today" birthday="::birthday"></confetti>\r\n  <ion-content overflow-scroll="true">\r\n    <ion-refresher on-refresh="::grades.refresh()"></ion-refresher>\r\n    <div class="row custom-row responsive-lg">\r\n      <div class="col custom-col col-50 col-offset-25">\r\n        <div class="card" style="text-align:center" ng-show="grades.totalAvg === \'$$.$\'">\r\n          <p class="item item-text-wrap padding"><span translate-once="GRADES-WITHHELD"></span></p>\r\n        </div>\r\n        <ion-item ng-show="grades.totalAvg">\r\n          <div class="ribbon" ng-class="{\'oweRibbon\':(grades.totalAvg === \'$$.$\'), \'noRibbon\':(grades.totalAvg === \'??.?\'), \'failRibbon\':(grades.totalAvg <= 60), \'badRibbon\':(grades.totalAvg < 80 && grades.totalAvg > 60), \'okRibbon\':(grades.totalAvg >= 80 && grades.totalAvg < 95), \'bestRibbon\':(grades.totalAvg >= 95)}">\r\n           <button class="roundbutton grade-button"\r\n                   ng-class="{\r\n                     \'oweGradeButton\':(grades.totalAvg === \'$$.$\'),\r\n                     \'noGradeButton\':(grades.totalAvg === \'??.?\'),\r\n                     \'worstGradeButton\':(grades.totalAvg <= 60),\r\n                     \'badGradeButton\':(grades.totalAvg < 80 && grades.totalAvg > 60),\r\n                     \'okGradeButton\':(grades.totalAvg >= 80 && grades.totalAvg < 95),\r\n                     \'bestGradeButton\':(grades.totalAvg >= 95)\r\n                   }">\r\n              {{grades.totalAvg}}\r\n            </button>\r\n          </div>\r\n        </ion-item>\r\n        <div ng-repeat="item in grades.classes" class="item-text-wrap card ink" data-ink-color="#E6E6E6" data-ink-opacity="1">\r\n          <ion-item href="#/app/grades/{{::item.class_period}}/{{::item.class_teacher_id}}">\r\n            <b>\r\n              [<span ng-bind="::item.class_period"></span>]\r\n              {{::item.class_name}}<span ng-show="::item.class_avg">: </span>\r\n            </b>\r\n            <span class="padding-top" ng-class="{\'worstGrade\':(item.class_avg < 61)}">{{::item.class_avg}}</span>\r\n          </ion-item>\r\n        </div>\r\n        <div class="card" style="text-align:center" ng-show="!grades.classes.length">\r\n          <ion-item>\r\n            <span translate-once="GRADES-NOCLASSES"></span>\r\n          </ion-item>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ion-content>\r\n</ion-view>\r\n'),e.put("components/homework/homework.html",'<ion-view name="master-view" class="themeBackgroundColor">\r\n  <ion-nav-title><span translate-once="HOMEWORK-VIEW-TITLE"></span></ion-nav-title>\r\n  <ion-nav-buttons side="left">\r\n    <button class="button button-icon button-clear ion-navicon-round" menu-toggle="left" drawer-toggle></button>\r\n  </ion-nav-buttons>\r\n  <ion-nav-buttons side="right">\r\n    <button class="button button-icon button-clear ion-android-more-vertical" ng-click="::homework.doShowFilterOptions()"></button>\r\n  </ion-nav-buttons>\r\n  <confetti today="::today" birthday="::birthday"></confetti>\r\n  <ion-content overflow-scroll="true">\r\n    <ion-refresher on-refresh="::homework.refresh()"></ion-refresher>\r\n    <div class="row custom-row responsive-lg">\r\n      <div class="col custom-col col-50 col-offset-25">\r\n        <ion-checkbox class="item-text-wrap" ng-repeat="item in homework.homeworkCheckList | orderBy: \'-lsn_date\'| filter:homework.homeworkFilter.filter" ng-model="item.checked" ng-checked="item.checked" ng-class="{todaysHW:(item.lsn_date === date)}">\r\n          <span style="-webkit-user-select: text;" ng-class="{checked:item.checked}">\r\n            {{::item.calc_date}}\r\n            <br>\r\n            <b>{{::item.calc_class}}:</b> {{::item.lsn_hw}}\r\n          </span>\r\n        </ion-checkbox>\r\n        <div class="card" style="text-align:center" ng-show="!homework.homeworkCheckList.length">\r\n          <ion-item>\r\n            <span translate-once="HOMEWORK-NOHOMEWORK"></span>\r\n          </ion-item>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ion-content>\r\n</ion-view>\r\n'),e.put("components/login/login.html",'<ion-view view-title="{{login.ncaLogo}}" cache-view="false" align-title="center" name="login-view" class="themeBackgroundColor">\r\n  <ion-content class="padding-horizontal">\r\n    <div class="row custom-row responsive-lg">\r\n      <div class="col custom-col col-50 col-offset-25">\r\n        <form name="loginForm" style="margin-top:10px" ng-submit="login.login(login.data)" novalidate>\r\n          <div class="list" style="margin-bottom:0">\r\n            <label class="item item-input item-floating-label">\r\n              <span class="input-label" translate-once="LOGIN-USER"></span>\r\n              <input required name="username" type="text" ng-model="login.data.usernameInput" translate-once-placeholder="LOGIN-USER">\r\n            </label>\r\n            <label style="border-bottom:none" class="item item-input item-floating-label">\r\n              <span translate-once="LOGIN-PASSWORD" class="input-label"></span>\r\n              <input required name="password" type="password" ng-model="login.data.passwordInput" translate-once-placeholder="LOGIN-PASSWORD">\r\n            </label>\r\n          </div>\r\n          <button ng-disabled="loginForm.$invalid" style="color: white;background-color: #33cd5f;margin-top:20px" class="button button-block button-balanced icon-right ion-log-in" translate-once="LOGIN"></button>\r\n          <!--only used either ng-submit or ng-click, not both https://docs.angularjs.org/api/ng/directive/form#submitting-a-form-and-preventing-the-default-action-->\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </ion-content>\r\n</ion-view>\r\n'),e.put("components/menu/sidemenu.html",'<ion-view cache-view="false" hide-nav-bar="true"><!--hide-nav-bar = true solved the addition of .has-header to ion-content-->\r\n  <ion-side-menus>\r\n    <ion-side-menu-content>\r\n      <ion-nav-bar class="default-primary-color"></ion-nav-bar>\r\n\r\n      <ion-nav-view name="master-view"></ion-nav-view>\r\n    </ion-side-menu-content>\r\n\r\n    <ion-side-menu expose-aside-when="large" width="250">\r\n      <ion-content scrollbar-y="false" class="stable-bg">\r\n        <div id="customSidemenuHeaderBar" class="themeSidemenuHeaderBar">\r\n          <figure class="padding-top" style="padding-left:24px">\r\n            <div class="studentmenuphoto roundbutton">\r\n              <img id="studentMenuPic" style="width:100%" ng-src="{{::studentPhoto}}" loading-src="{{::\'img/placeholder-square.jpg\'}}" fallback-src="{{::\'img/placeholder-square.jpg\'}}"/>\r\n            </div>\r\n          </figure>\r\n          <ion-item id="name" class="sidemenuHeaderBarItem">\r\n            {{::personName}}\r\n          </ion-item>\r\n          <ion-item id="email" class="sidemenuHeaderBarItem">\r\n            {{::userInputsName}}@nca.edu.ni\r\n          </ion-item>\r\n        </div>\r\n        <ion-list>\r\n          <ion-item menu-close href="#/app/profile"class="button-flat sidemenuItem icon-item-left">\r\n            <i class="sidemenuItemI icon" ng-class="{\'ion-ios-person\':(themeCss == \'dark\' || themeCss === \'mild\'), \'ion-ios-person-outline\':(themeCss == \'light\')}"></i>\r\n            <span translate="PROFILE-VIEW-TITLE"></span>\r\n          </ion-item>\r\n          <ion-item menu-close href="#/app/homework" class="button-flat sidemenuItem icon-item-left">\r\n            <i class="sidemenuItemI icon" ng-class="{\'ion-ios-bookmarks\':(themeCss == \'dark\' || themeCss === \'mild\'), \'ion-ios-bookmarks-outline\':(themeCss == \'light\')}"></i>\r\n            <span translate="HOMEWORK-VIEW-TITLE"></span>\r\n          </ion-item>\r\n          <ion-item menu-close href="#/app/grades" class="button-flat sidemenuItem icon-item-left">\r\n            <i class="sidemenuItemI icon"\r\n               ng-class="{\'ion-ios-checkmark\':(themeCss == \'dark\' || themeCss === \'mild\'), \'ion-ios-checkmark-outline\':(themeCss == \'light\')}"></i>\r\n            <span translate="GRADES-VIEW-TITLE"></span>\r\n          </ion-item>\r\n          <ion-item menu-close href="#/app/events" class="button-flat sidemenuItem icon-item-left">\r\n            <i class="sidemenuItemI icon"\r\n               ng-class="{\'ion-ios-calendar\':(themeCss == \'dark\' || themeCss === \'mild\'), \'ion-ios-calendar-outline\':(themeCss == \'light\')}"></i>\r\n            <span translate="EVENTS-VIEW-TITLE"></span>\r\n          </ion-item>\r\n          <ion-item menu-close href="#/app/cafeteria" class="button-flat sidemenuItem icon-item-left">\r\n            <i class="sidemenuItemI icon"\r\n               ng-class="{\'ion-social-usd\':(themeCss == \'dark\' || themeCss === \'mild\'), \'ion-social-usd-outline\':(themeCss == \'light\')}"></i>\r\n            <span translate="CAFETERIA-VIEW-TITLE"></span>\r\n          </ion-item>\r\n          <ion-item menu-close href="#/app/staff" class="button-flat sidemenuItem icon-item-left">\r\n            <i class="sidemenuItemI icon"\r\n               ng-class="{\'ion-ios-people\':(themeCss == \'dark\' || themeCss === \'mild\'), \'ion-ios-people-outline\':(themeCss == \'light\')}"></i>\r\n            <span translate="STAFF-VIEW-TITLE"></span>\r\n          </ion-item>\r\n          <ion-item menu-close href="#/app/settings" class="button-flat sidemenuItem icon-item-left">\r\n            <i class="sidemenuItemI icon"\r\n               ng-class="{\'ion-ios-toggle\':(themeCss == \'dark\' || themeCss === \'mild\'), \'ion-ios-toggle-outline\':(themeCss == \'light\')}"></i>\r\n            <span translate="SETTINGS-VIEW-TITLE"></span>\r\n          </ion-item>\r\n          <ion-item menu-close href="#/login" ng-click="logout()" class="button-flat sidemenuItem icon-item-left">\r\n            <i class="sidemenuItemI icon ion-log-out"></i>\r\n            <span translate="LOGOUT"></span>\r\n          </ion-item>\r\n        </ion-list>\r\n      </ion-content>\r\n    </ion-side-menu>\r\n  </ion-side-menus>\r\n</ion-view>\r\n'),e.put("components/profile/profile.html",'<ion-view name="master-view" class="themeBackgroundColor">\r\n  <ion-nav-title><span translate="PROFILE-VIEW-TITLE"></span></ion-nav-title>\r\n  <ion-nav-buttons side="left">\r\n    <button class="button button-icon button-clear ion-navicon-round" menu-toggle="left" drawer-toggle></button>\r\n  </ion-nav-buttons>\r\n  <ion-nav-buttons side="right">\r\n    <button class="button button-icon button-clear ion-android-more-vertical" ng-click="::profile.doShowActionSheet()"></button>\r\n  </ion-nav-buttons>\r\n  <confetti today="::today" birthday="::birthday"></confetti>\r\n  <ion-content overflow-scroll="true">\r\n    <ion-refresher on-refresh="profile.refresh()"></ion-refresher>\r\n    <div class="row custom-row responsive-lg">\r\n      <div class="col custom-col col-50">\r\n        <div class="card">\r\n          <ion-item style="padding:0;margin:0" ng-show="(personName||studentPhoto)">\r\n            <div class="bar-stable padding-vertical">\r\n              <ion-item style="overflow:visible;min-height:110px" class="item-thumbnail-left">\r\n                <span>\r\n                  <img id="studentProfilePic" ng-src="{{::studentPhoto}}" loading-src="{{\'img/placeholder-rec.jpg\'}}" fallback-src="{{\'img/placeholder-rec.jpg\'}}"/>\r\n                </span>\r\n                <br>\r\n                <h2>{{::personName}}</h2>\r\n                <p ng-show="profile.studentBirthday"><b><span translate="PROFILE-BORN"></span> :</b> {{::profile.studentBirthday}}</p>\r\n                <p ng-show="profile.studentGrade"><span translate="PROFILE-ENROLLED"></span> {{::profile.studentGrade}}<span translate="PROFILE-ENROLLED2"></span></p>\r\n              </ion-item>\r\n            </div>\r\n          </ion-item>\r\n          <ion-item ng-show="(profile.eagleCredits||profile.eagleCreditsFam)">\r\n            <div ng-show="profile.eagleCredits" class="row custom-row">\r\n              <b class="col custom-col item-text-wrap"><span translate="PROFILE-BALANCE"></span>:</b>\r\n              <dfn class="col custom-col item-text-wrap">{{::profile.eagleCredits|currency}}</dfn>\r\n            </div>\r\n            <div ng-show="profile.eagleCreditsFam" class="row custom-row">\r\n              <b class="col custom-col item-text-wrap"><span translate="PROFILE-BALANCE-FAM"></span>:</b>\r\n              <dfn class="col custom-col item-text-wrap">{{::profile.eagleCreditsFam|currency}}</dfn>\r\n            </div>\r\n          </ion-item>\r\n        </div>\r\n        <br>\r\n        <div class="card card-fab">\r\n          <div class="title-fab" ng-click="::profile.doShowMissing()" >\r\n            <ion-item ng-class="{\'margin-bottom\':!profile.showMissing}" class="item-divider">\r\n              <span translate="PROFILE-MISSING"></span>\r\n            </ion-item>\r\n            <button id="missing-fab" class="button button-fab custom-fab accent-color">\r\n              {{profile.missingsNumber}}\r\n            </button>\r\n          </div>\r\n          <div ng-show="profile.showMissing">\r\n            <div class="list">\r\n              <ion-checkbox class="item-text-wrap alternate-colors" ng-repeat="item in profile.missingMissing" ng-model="item.checked" ng-checked="item.checked" ng-class="{todaysHW:(item.lsn_date == date)}">\r\n                <span style="-webkit-user-select: text;" ng-class="{\'checked\':item.checked}">\r\n                  {{::item.calc_date}}\r\n                  <br>\r\n                  <b>{{::item.calc_class}}:</b> {{::item.gra_name}}\r\n                  <br>\r\n                  <b><span translate="PROFILE-MISSING-WORTH"></span>: </b>{{::item.gra_points}} <span translate="PROFILE-MISSING-POINTS"></span>\r\n                </span>\r\n              </ion-checkbox>\r\n            </div>\r\n            <center class="padding-bottom">\r\n              <button ng-click="::profile.goGrades()" class="button button-dark"><span translate="CHECK-UR-GRADES"></span></button>\r\n            </center>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="col custom-col col-50">\r\n        <div class="card">\r\n          <ion-item class="item-divider margin-bottom">\r\n            <span translate="PROFILE-CLASS-SCHEDULE"></span><span ng-show="profile.schedule.text"> | {{profile.schedule.text}}</span>\r\n          </ion-item>\r\n          <ion-item ng-repeat="item in profile.schedule.schedule" class="item-text-wrap alternate-colors">\r\n            <div class="row custom-row">\r\n              <div class="col custom-col">\r\n                <b>{{::item.period}}</b>\r\n              </div>\r\n              <div class="col custom-col">\r\n                <div class="row custom-row">\r\n                  {{::item.begin}}\r\n                  <br>\r\n                  {{::item.end}}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </ion-item>\r\n          <ion-item ng-show="!profile.schedule.schedule.length"><span translate="PROFILE-NO-SCHEDULE"></span></ion-item>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ion-content>\r\n</ion-view>\r\n'),
e.put("components/settings/settings.html",'<ion-view name="master-view">\r\n  <ion-nav-title><span translate="SETTINGS-VIEW-TITLE"></span></ion-nav-title>\r\n  <ion-nav-buttons side="left">\r\n    <button class="button button-icon button-clear ion-navicon-round" menu-toggle="left" drawer-toggle></button>\r\n  </ion-nav-buttons>\r\n  <ion-content overflow-scroll="true" class="themeSettingsBackground themeSidemenuHeaderBar">\r\n    <div class="row custom-row responsive-lg">\r\n      <div class="col custom-col col-50 col-offset-25">\r\n        <div class="card ink" data-ink-color="#E6E6E6" data-ink-opacity="1">\r\n          <label for="selectedLang" class="item item-input item-select">\r\n            <div class="input-label">\r\n              <span translate="SETTINGS-SELECTED-LANG"></span>\r\n            </div>\r\n            <select \r\n              class="text-center"\r\n              ng-change="ChangeLanguage(language)" \r\n              name="selectedLang" \r\n              ng-model="language" \r\n              ng-options="item.lang as item.name for item in ::langs">\r\n            </select>\r\n          </label>\r\n        </div>\r\n        <div class="card ink" data-ink-color="#E6E6E6" data-ink-opacity="1">\r\n          <label for="themeCss" class="item item-input item-select">\r\n            <div class="input-label">\r\n              <span translate="SETTINGS-SELECTED-THEME"></span>\r\n            </div>\r\n            <select \r\n              class="text-center"\r\n              name="themeCss" \r\n              ng-model="themeCss" \r\n              ng-change="ChangeTheme(themeCss)" \r\n              ng-options="item.url as item.name | translate for item in ::themes">\r\n            </select>\r\n          </label>\r\n        </div>\r\n        <div class="card ink" data-ink-color="#E6E6E6" data-ink-opacity="1">\r\n          <ion-item style="font-size:16px" ng-click="::settings.doShowDeletePics()">\r\n            <span translate="SETTINGS-DELETE-PICS"></span>\r\n          </ion-item>\r\n        </div>\r\n        <div class="card text-center" style="background-color:#ecf0f1">\r\n          <div class="item">\r\n            <h3><span translate="SETTINGS-SUGGESTIONS"></span></h3>\r\n            <span translate="SETTINGS-YOUR-NAME"></span>: {{::personName}}\r\n            <br>\r\n            <span translate="SETTINGS-SUGGESTION-SUBJECT"></span>: \r\n            <textarea style="width:100%;" cols="40" rows="2" ng-model="suggestionSubject"></textarea>\r\n            <span translate="SETTINGS-SUGGESTION-BODY"></span>:\r\n            <br>\r\n            <textarea style="width:100%;" cols="40" rows="5" ng-model="suggestionBody"></textarea>\r\n            <br>\r\n            <a href="mailto:obedm503@gmail.com?cc=sgparajon@gmail.com&amp;subject=StudentAccess Suggestion: {{::personName}}. {{suggestionSubject}}&amp;body={{suggestionBody}}"><button class="button" ng-click="suggestionBody = null; suggestionSubject = null"><span translate="SETTINGS-SUGGESTION-MAILUS"></span></button></a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ion-content>\r\n</ion-view>'),e.put("components/staff/staff-details.html",'<ion-view cache-view="false" name="master-view" class="themeBackgroundColor">\r\n  <ion-nav-buttons side="left">\r\n    <button class="button button-clear" ng-click="::staffDetails.goStaff()">\r\n      <i class="padding icon icon-left ion-chevron-left"></i>\r\n    </button>\r\n  </ion-nav-buttons>\r\n  <ion-nav-title>{{::staffDetails.staffName}}</ion-nav-title>\r\n  <confetti today="::today" birthday="::birthday"></confetti>\r\n  <ion-content overflow-scroll="true">\r\n    <div class="row custom-row responsive-lg">\r\n      <div class="col custom-col col-50 col-offset-25">\r\n        <div style="-webkit-user-select: text;" class="card">\r\n          <ion-item class="item-divider"> {{::staffDetails.staffName}} | {{::staffDetails.staffStatus}}</ion-item>\r\n          <ion-item class="item-text-wrap" ng-show="::staffDetails.staffPhone">\r\n            <div class="row custom-row">\r\n              <b class="col custom-col">\r\n                <span translate="STAFF-PHONE"></span>:\r\n              </b>\r\n              <dfn class="col custom-col">\r\n                <a href="tel:{{::staffDetails.staffPhone}}">\r\n                  {{::staffDetails.staffPhone}}\r\n                </a>\r\n              </dfn>\r\n            </div>\r\n          </ion-item>\r\n          <ion-item class="item-text-wrap" ng-show="::staffDetails.staffHomePhone">\r\n            <div class="row custom-row">\r\n              <b class="col custom-col">\r\n                <span translate-once="STAFF-HOME-PHONE"></span>:\r\n              </b>\r\n              <dfn class="col custom-col">\r\n                <a href="tel:{{::staffDetails.staffHomePhone}}">\r\n                  {{::staffDetails.staffHomePhone}}\r\n                </a>\r\n              </dfn>\r\n            </div>\r\n          </ion-item>\r\n          <ion-item class="item-text-wrap" ng-show="::staffDetails.staffEmail">\r\n            <div class="row custom-row">\r\n              <b class="col custom-col">\r\n                <span translate-once="STAFF-EMAIL"></span>:\r\n              </b>\r\n              <dfn class="col custom-col">\r\n                <a href="mailto:{{::staffDetails.staffEmail}}">\r\n                  {{::staffDetails.staffEmail}}\r\n                </a>\r\n              </dfn>\r\n            </div>\r\n          </ion-item>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ion-content>\r\n</ion-view>\r\n'),e.put("components/staff/staff.html",'<ion-view name="master-view" class="themeBackgroundColor">\r\n  <ion-nav-title><span translate-once="STAFF-VIEW-TITLE"></span></ion-nav-title>\r\n  <ion-nav-buttons side="left">\r\n    <button class="button button-icon button-clear ion-navicon-round" menu-toggle="left" drawer-toggle></button>\r\n  </ion-nav-buttons>\r\n  <ion-nav-buttons side="right">\r\n    <button class="button button-icon button-clear ion-ios-search-strong" ng-click="::staff.doShowSearchBar()"></button>\r\n  </ion-nav-buttons>\r\n  <div class="row custom-row responsive-lg">\r\n    <div class="col custom-col col-50 col-offset-25">\r\n      <div class="searchBar" ng-show="staff.showSearchBar">\r\n        <br>\r\n        <div class="card">\r\n          <ion-item class="item-input">\r\n            <i class="icon ion-search placeholder-icon"></i>\r\n            <input id="searchBar" autofocus type="text" translate-once-placeholder="SEARCH" ng-model="staff.searchBar.bar">\r\n            <button ng-click="::staff.emptySearchBar()" class="button-clear">\r\n              <i class="icon ion-close"></i>\r\n            </button>\r\n          </ion-item>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  \r\n  <confetti today="today" birthday="birthday"></confetti>\r\n  <ion-content overflow-scroll="true">\r\n    <ion-refresher on-refresh="::staff.refresh()"></ion-refresher>\r\n    <!--searchBar spacer-->\r\n    <div ng-show="staff.showSearchBar"><br><br><br><b></b></div>\r\n    <div class="row custom-row responsive-lg">\r\n      <div class="col custom-col col-50 col-offset-25">\r\n        <div ng-repeat="item in staff.staffList|filter:staff.searchBar.bar|limitTo:staff.limit" class="card ink" data-ink-color="#E6E6E6" data-ink-opacity="1">\r\n          <ion-item href="#/app/staff/{{::item.t_id}}">\r\n            <!-- ng-class="{thomas:(item.calc_name == \'Gutiérrez, Thomás\'), admin:(item.calc_status == \'Administration\' || item.calc_status == \'Administración\'), ct:(item.calc_status == \'Classroom Teacher\' || item.calc_status == \'Profesor\'), ta:(item.calc_status == \'Teacher Assistant\' || item.calc_status == \'Asistente de Profesor\'), ptt:(item.calc_status == \'Part-Time Teacher\' || item.calc_status == \'Profesor Tiempo Parcial\'), os:(item.calc_status == \'Office Staff\' || item.calc_status == \'Oficinistas\'), c:(item.calc_status == \'Coach\' || item.calc_status == \'Entrenador\'), sb:(item.calc_status == \'School Board\' || item.calc_status == \'Junta Directiva\')}"--> \r\n            <b>{{::item.calc_status}}: </b>{{::item.calc_name}}\r\n          </ion-item>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <ion-infinite-scroll\r\n      on-infinite="::staff.loadMore()"\r\n      distance=".2%">\r\n    </ion-infinite-scroll>\r\n  </ion-content>\r\n</ion-view>')}])}(),function(e){function t(e,t,n,a,r){t.debugInfoEnabled(!1),e.debugEnabled(!1),n.translations("en",{"PULL-TO-REFRESH":"Pull to refresh...",LOGOUT:"Logout",SEARCH:"Search...","LOGIN-USER":"User ID","LOGIN-PASSWORD":"Password",LOGIN:"Login","LOGIN-LOADING":"Loading...","PROFILE-VIEW-TITLE":"Profile","PROFILE-BORN":"Born","PROFILE-ENROLLED":"You are in ","PROFILE-ENROLLED2":"th grade","PROFILE-BALANCE":"Credit","PROFILE-RECORDS":"Records","PROFILE-DOCUMENTS":"Documents","PROFILE-MISSING":"Missing Assignments","PROFILE-MISSING-WORTH":"Worth","PROFILE-MISSING-POINTS":"Points","CHECK-UR-GRADES":"Check your Grades","PROFILE-BALANCE-FAM":"Family Credits","PROFILE-CLASS-SCHEDULE":"Class Schedule","PROFILE-NO-SCHEDULE":"No Schedule Found!","HOMEWORK-VIEW-TITLE":"Homework","HOMEWORK-ASSIGNMENTS":"Today's homework","HOMEWORK-NOHOMEWORK":"There's no homework!","HOMEWORK-NOHOMEWORK-TEXT":"But that's not that bad... ;)","HOMEWORK-PICK-CLASS-FILTER":"Pick a Class","HOMEWORK-CLEAR-CLASS-FILTER":"Clear Filter","HOMEWORK-CANCEL-CLASS-FILTER":"Cancel","GRADES-VIEW-TITLE":"Grades","GRADES-WITHHELD":"Your grades have been withheld. Please pay the caja to restore them.","GRADES-TEACHER-PHONE":"Phone","GRADES-TEACHER-CONTACT":"Contact Info","GRADES-TEACHER-EMAIL":"Email","GRADES-CLASS-ROOM":"Room","GRADES-BREAKDOWN":"Grading Scale","GRADES-YOUR-GRADE":"Grade","GRADES-CLASS-AVERAGE":"Class Average","GRADES-CLASS-PERIOD":"Period","GRADES-CLASS-TERM":"Term","GRADES-LAST-UPDATED":"Last Update","GRADES-NOCLASSES":"No classes here... it could be worse ;)","GRADES-GRADES":"Grades","GRADES-NO-GRADES-LIST":"No grades found.","EVENTS-VIEW-TITLE":"Events","EVENTS-LOCATION":"Location","EVENTS-TIME":"Time","EVENTS-DATE":"Date","EVENTS-NOEVENTS":"THERE ARE NO EVENTS!","CAFETERIA-VIEW-TITLE":"Cafeteria","CAFETERIA-NOFOOD":"WE HAVE NO FOOOOOOOOD!","CAFETERIA-TODAYS-FOOD":"Today's lunch","CAFETERIA-BALANCE-HISTORY":"Balance History","CAFETERIA-TRANSACTION-METHOD":"Account","CAFETERIA-TRANSACTION-ITEM":"Item","CAFETERIA-TRANSACTION-AUTHORIZED-BY":"Authorized By","CAFETERIA-TRANSACTION-DATE-TIME":"Date-Time","CAFETERIA-TRANSACTION-PRICE":"Price","CAFETERIA-TRANSACTION-HISTORY":"Transaction History","CAFETERIA-SHOW-MORE":"Show More...","CAFETERIA-SHOW-LESS":"Show Less...","CAFETERIA-NOTHING-FOUND":"Nothing Found","CAFETERIA-STUDENT":"Student","CAFETERIA-FAMILY":"Family","CAFETERIA-NO-FAMILY-TRANSACTIONS":"No Family Transactions","CAFETERIA-NO-STUDENT-TRANSACTIONS":"No Student Transactions","STAFF-VIEW-TITLE":"Staff","STAFF-HOME-PHONE":"Home Phone","STAFF-PHONE":"CellPhone","STAFF-EMAIL":"Email","SETTINGS-VIEW-TITLE":"Settings","SETTINGS-SELECTED-LANG":"Selected Language","SETTINGS-SELECTED-THEME":"Selected Theme","SETTINGS-THEME-LIGHT":"Light","SETTINGS-THEME-DARK":"Dark","SETTINGS-THEME-MILD":"Mild","SETTINGS-SUGGESTIONS":"Suggestions","SETTINGS-YOUR-NAME":"Name","SETTINGS-SUGGESTION-SUBJECT":"Subject","SETTINGS-SUGGESTION-BODY":"Comment","SETTINGS-SUGGESTION-MAILUS":"Mail Us","SETTINGS-DELETE-PICS":"Delete Pics","SETTINGS-DELETE-PICS-MESSAGE":"For performance and data savings reasons, we store profiles pictures. You may wish to delete currently stored pictures for reasons unknown to  mankind;  ¯\\_(ツ)_/¯. Understand, this cannot be undone.","SETTINGS-NO-PICS":"No other pictures are stored.","SETTINGS-DELETE":"Delete","SETTINGS-CANCEL":"Cancel","SETTINGS-DELETE-TITLE":"Delete Stored pictures"}),n.translations("es",{"PULL-TO-REFRESH":"Hale para refrescar...",LOGOUT:"Salir",SEARCH:"Buscar...","LOGIN-USER":"ID de Usuario","LOGIN-PASSWORD":"Contraseña",LOGIN:"Entrar","LOGIN-LOADING":"Cargando...","PROFILE-VIEW-TITLE":"Perfil","PROFILE-BORN":"Nacido","PROFILE-ENROLLED":"Usted esta en ","PROFILE-ENROLLED2":"º grado","PROFILE-BALANCE":"Credito","PROFILE-RECORDS":"Registros","PROFILE-DOCUMENTS":"Documentos","PROFILE-MISSING":"Tareas Pendientes","PROFILE-MISSING-WORTH":"Valor","PROFILE-MISSING-POINTS":"Puntos","CHECK-UR-GRADES":"Revisar Notas","PROFILE-BALANCE-FAM":"Credito Familiar","PROFILE-CLASS-SCHEDULE":"Horario de Clases","PROFILE-NO-SCHEDULE":"No Se Encontró Horario!","HOMEWORK-VIEW-TITLE":"Tareas","HOMEWORK-ASSIGNMENTS":"Tareas del dia","HOMEWORK-NOHOMEWORK":"No hay tareas!","HOMEWORK-NOHOMEWORK-TEXT":"Pero eso no es tan malo... ;)","HOMEWORK-PICK-CLASS-FILTER":"Elegir Clase","HOMEWORK-CLEAR-CLASS-FILTER":"Todas las Clases","HOMEWORK-CANCEL-CLASS-FILTER":"Cancelar","GRADES-VIEW-TITLE":"Notas","GRADES-WITHHELD":"Tus notas han sido retenidas. Por favor pagar a la caja para restaurarlas","GRADES-TEACHER-PHONE":"Teléfono","GRADES-TEACHER-CONTACT":"Info de Contacto","GRADES-TEACHER-EMAIL":"Correo Electronico","GRADES-CLASS-ROOM":"Aula","GRADES-BREAKDOWN":"Escala","GRADES-YOUR-GRADE":"Nota","GRADES-CLASS-AVERAGE":"Promedio de Clase","GRADES-CLASS-PERIOD":"Periodo","GRADES-CLASS-TERM":"Semestre","GRADES-LAST-UPDATED":"Ultima Actualizacion","GRADES-NOCLASSES":"No hay classes... ;)","GRADES-GRADES":"Notas","GRADES-NO-GRADES-LIST":"No se encontraron notas.","EVENTS-VIEW-TITLE":"Eventos","EVENTS-LOCATION":"Lugar","EVENTS-TIME":"Hora","EVENTS-DATE":"Fecha","EVENTS-NOEVENTS":"NO HAY EVENTOS!","CAFETERIA-VIEW-TITLE":"Cafetería","CAFETERIA-NOFOOD":"NO HAY COMIIIIIIDA!","CAFETERIA-TODAYS-FOOD":"Almuerzo del dia","CAFETERIA-BALANCE-HISTORY":"Balance","CAFETERIA-TRANSACTION-METHOD":"Cuenta","CAFETERIA-TRANSACTION-ITEM":"Objeto","CAFETERIA-TRANSACTION-AUTHORIZED-BY":"Autorizado Por","CAFETERIA-TRANSACTION-DATE-TIME":"Fecha-Hora","CAFETERIA-TRANSACTION-PRICE":"Precio","CAFETERIA-TRANSACTION-HISTORY":"Transacciones","CAFETERIA-SHOW-MORE":"Mostrar Mas...","CAFETERIA-SHOW-LESS":"Mostrar Menos...","CAFETERIA-NOTHING-FOUND":"No se encontró nada","CAFETERIA-STUDENT":"Estudiante","CAFETERIA-FAMILY":"Familia","CAFETERIA-NO-FAMILY-TRANSACTIONS":"No Hay Trasacciones de Familia","CAFETERIA-NO-STUDENT-TRANSACTIONS":"No Hay Trasacciones del Estudiante","STAFF-VIEW-TITLE":"Personal","STAFF-HOME-PHONE":"Telefono","STAFF-PHONE":"Telefono Celular","STAFF-EMAIL":"Correo Electronico","SETTINGS-VIEW-TITLE":"Ajustes","SETTINGS-SELECTED-LANG":"Lenguaje Seleccionado","SETTINGS-SELECTED-THEME":"Tema Seleccionado","SETTINGS-THEME-LIGHT":"Claro","SETTINGS-THEME-DARK":"Oscuro","SETTINGS-THEME-MILD":"Tranquilo","SETTINGS-SUGGESTIONS":"Sugerencias","SETTINGS-YOUR-NAME":"Nombre","SETTINGS-SUGGESTION-SUBJECT":"Tema","SETTINGS-SUGGESTION-BODY":"Comentario","SETTINGS-SUGGESTION-MAILUS":"Enviar","SETTINGS-DELETE-PICS":"Borrar Fotos","SETTINGS-DELETE-PICS-MESSAGE":"Por rasones de rendimiento y ahorro de internet, las fotos de perfil se guardan localmente. Puede que usted quiera borrar las fotos de otras personas por razones no conocidas a la humanidad; ¯\\_(ツ)_/¯. Esto no se puede deshacer.","SETTINGS-NO-PICS":"No hay otras fotos guardadas.","SETTINGS-DELETE":"Borrar","SETTINGS-CANCEL":"Cancelar","SETTINGS-DELETE-TITLE":"Borrar Fotos Guardadas"}),n.preferredLanguage("en"),n.useSanitizeValueStrategy("escaped"),a.state("login",{url:"/login",templateUrl:"components/login/login.html",controller:"LoginCtrl as login"}).state("app",{url:"/app",abstract:!0,templateUrl:"components/menu/sidemenu.html",controller:"AppCtrl",controllerAs:"app"}).state("app.profile",{url:"/profile",views:{"master-view":{templateUrl:"components/profile/profile.html",controller:"ProfileCtrl as profile"}}}).state("app.homework",{url:"/homework",views:{"master-view":{templateUrl:"components/homework/homework.html",controller:"HomeworkCtrl as homework"}}}).state("app.grades",{url:"/grades",views:{"master-view":{templateUrl:"components/grades/grades.html",controller:"GradesCtrl as grades"}}}).state("app.grades.gradeDetails",{url:"/:PERIODID/:TEACHERID",views:{"master-view@app":{templateUrl:"components/grades/grades-details.html",controller:"GradesDetailsCtrl as gradesDetails"}}}).state("app.events",{url:"/events",views:{"master-view":{templateUrl:"components/events/events.html",controller:"EventsCtrl as events"}}}).state("app.events.eventDetails",{url:"/:EVENTID",views:{"master-view@app":{templateUrl:"components/events/event-details.html",controller:"EventsDetailsCtrl as eventsDetails"}}}).state("app.cafeteria",{url:"/cafeteria",views:{"master-view":{templateUrl:"components/cafeteria/cafeteria.html",controller:"CafeteriaCtrl as cafeteria"}}}).state("app.staff",{url:"/staff",views:{"master-view":{templateUrl:"components/staff/staff.html",controller:"StaffCtrl as staff"}}}).state("app.staff.staffDetails",{url:"/:STAFFID",views:{"master-view@app":{templateUrl:"components/staff/staff-details.html",controller:"StaffDetailsCtrl as staffDetails"}}}).state("app.settings",{url:"/settings",views:{"master-view":{templateUrl:"components/settings/settings.html",controller:"SettingsCtrl as settings"}}}),r.otherwise(function(e,t){e.get("$state").go("app.profile")})}e.module("studentaccess").config(["$logProvider","$compileProvider","$translateProvider","$stateProvider","$urlRouterProvider",t])}(window.angular),function(){function e(e,t,n,a,r,s,o){function i(e){u.cafeteriaMenu=e}function c(e){function t(e){return e.credhist_balance}function n(e){var t=e.credhist_datetime.replace(/\ .*/,"").split("-");return a[t[1]]+", "+t[2]}var a={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},r=$array.groupObjects($array.reverse(e))([function(e){return"Crédito del Cliente"===e.credhist_method||"Client Credit"===e.credhist_method},function(e){return"Crédito de la Familia"===e.credhist_method||"Family Credit"===e.credhist_method}]);return{student:{data:r[0].map(t),labels:r[0].map(n)},family:{data:r[1].map(t),labels:r[1].map(n)}}}function l(e,n){var r=n*-1;e&&n?e.data&&Array.isArray(e.data)&&e.labels&&Array.isArray(e.labels)&&e.labels.length>n?(u.chartLabels=t("limitTo")(e.labels,r),u.chartData=t("limitTo")(e.data,r),a.log("updateChart: updated chart")):a.log("updateChart: limit > arr.length"):e&&!n?(u.chartLabels=e.labels,u.chartData=e.data):n&&!e?(u.chartLabels=t("limitTo")(u.chartLabels,r),u.chartData=t("limitTo")(u.chartData,r)):a.error("updateChart: bad params")}function d(e){u.transactionHistory=e;var t=c(e);u.studentTransactions=t.student,u.familyTransactions=t.family,l("CAFETERIA-STUDENT"===u.current?u.studentTransactions:u.familyTransactions),r(function(){l(null,10)},9e3)}var u=this;u.refresh=function(){n.refresh(["cafeteriaMenu","cafeteriaTransactions"]).then(function(e){e.cafeteriaMenu&&i(e.cafeteriaMenu),e.cafeteriaTransactions&&d(e.cafeteriaTransactions)})},u.switch=function(){var e;"CAFETERIA-STUDENT"===u.current?(u.current="CAFETERIA-FAMILY",e=u.familyTransactions):(u.current="CAFETERIA-STUDENT",e=u.studentTransactions),l(e,10)},u.emptySearchBar=function(){u.searchBar={}},u.doShowSearchBar=function(){u.showSearchBar=u.showSearchBar!==!0,u.searchBar={},u.transactionLimit=u.showSearchBar===!0?u.transactionLimit+9:u.transactionLimit-9},u.transactionShowLess=function(){u.transactionLimit=u.transactionLimit-9,a.log(u.transactionLimit+" >= "+u.transactionHistory.length)},u.transactionShowMore=function(){u.transactionLimit=u.transactionLimit+9,a.log(u.transactionLimit+" < "+u.transactionHistory.length)},u.chartLabels=[],u.chartData=[],u.searchBar={},u.transactionLimit=3,u.current="CAFETERIA-STUDENT",o.anything("STUDENT_MENU","day").then(function(){return s.getStudentCafeteria()}).catch(function(){return e.getItem("STUDENT_MENU",!0).then(function(e){return e.data})}).then(i),o.anything("STUDENT_TRANSACTIONS","month").then(function(){return s.getStudentCredit()}).catch(function(){return e.getItem("STUDENT_TRANSACTIONS",!0).then(function(e){return e.data})}).then(d)}angular.module("studentaccess").controller("CafeteriaCtrl",["$localForage","$filter","$rootScope","$log","$timeout","StudentService","UpdateService",e])}(),function(){angular.module("studentaccess").component("confetti",{replace:!0,template:'<canvas id="{{::$ctrl.canvasId}}" style="position: absolute;display: block;width: 100%;z-index: -10;height: 100%;" ng-show="::$ctrl.showConfetti"></canvas>',controller:["$log","$timeout",function(e,t){var n=this;n.canvasId="canvasId"+Math.floor(1e3*Math.random()+1),e.debug("confetti: init"),e.debug("confetti: id = '"+n.canvasId+"'"),t(function(){"string"==typeof n.today&&"string"==typeof n.birthday&&n.today===n.birthday?(!function(t){function n(){r.clearRect(0,0,s,o);for(var e=0;e<i;e++){var t=c[e];r.beginPath(),r.lineWidth=t.r,r.strokeStyle=t.color,r.moveTo(t.x,t.y),r.lineTo(t.x+t.tilt+t.r/2,t.y+t.tilt),r.stroke()}a()}function a(){d+=.01;for(var e=0;e<i;e++){var t=c[e];t.y+=Math.cos(d+t.d)+t.r/2,t.x+=2*Math.sin(d),(t.x>s+5||t.x<-5||t.y>o)&&(e%3>0?c[e]={x:Math.random()*s,y:-10,r:t.r,d:t.d,color:t.color,tilt:t.tilt}:Math.sin(d)>0?c[e]={x:-5,y:Math.random()*o,r:t.r,d:t.d,color:t.color,tilt:t.tilt}:c[e]={x:s+5,y:Math.random()*o,r:t.r,d:t.d,color:t.color,tilt:t.tilt})}}e.debug("confetti: confetti()");for(var r=document.getElementById(t).getContext("2d"),s=window.innerWidth,o=window.innerHeight,i=60,c=[],l=0;l<i;l++)c.push({x:Math.random()*s,y:Math.random()*o,r:15*Math.random()+1,d:Math.random()*i,color:"rgba("+Math.floor(255*Math.random())+", "+Math.floor(255*Math.random())+", "+Math.floor(255*Math.random())+", 0.8)",tilt:Math.floor(5*Math.random())-5});var d=0;setInterval(n,20)}(n.canvasId),n.showConfetti=!0,e.debug("confetti: showing")):(n.showConfetti=!1,e.debug("confetti: not showing")),e.debug("confetti: "+n.today+" vs "+n.birthday)},1500)}],bindings:{today:"=",birthday:"="}})}(),function(){function e(e,t,n,a){var r=this;r.goEvents=function(){a.go("app.events")};var s=n.EVENTID;e.eventsList&&"{}"!==JSON.stringify(e.eventsList)&&s in e.eventsList?(r.eventSubject=e.eventsList[s].calc_subject,r.eventStartDate=e.eventsList[s].ev_date_start,r.eventStartTime=e.eventsList[s].ev_time_start,r.eventEndTime=e.eventsList[s].ev_time_end,r.eventEndDate=e.eventsList[s].ev_date_end,r.eventLocation=e.eventsList[s].calc_location,r.eventText=e.eventsList[s].calc_text,r.eventCalcStartDate=e.eventsList[s].calc_ev_date_start,r.eventCalcStartTime=e.eventsList[s].calc_ev_time_start):(r.goEvents(),t.error("EventsDetailsCtrl: data not found"))}angular.module("studentaccess").controller("EventsDetailsCtrl",["$rootScope","$log","$stateParams","$state",e])}(),function(){function e(e,t,n,a){function r(e){s.events=e,t.eventsList=$array.convertToObject(e)("ev_id")}var s=this;s.refresh=function(){t.refresh(["eventsEvents"]).then(function(e){e.eventsEvents&&r(e.eventsEvents)})},a.anything("STUDENT_EVENTS","day").then(function(){return n.getStudentEvents()}).catch(function(){return e.getItem("STUDENT_EVENTS",!0).then(function(e){return e.data})}).then(r)}angular.module("studentaccess").controller("EventsCtrl",["$localForage","$rootScope","StudentService","UpdateService",e])}(),function(){function e(e,t,n,a,r){var s=this;s.Math=window.Math,s.isFinite=window.isFinite,s.goGrades=function(){r.go("app.grades")},n.$on("$ionicView.loaded",function(){var n=a.PERIODID,r=a.TEACHERID;e.gradesClasses&&"{}"!==JSON.stringify(e.gradesClasses)&&n in e.gradesClasses?(s.gradeClass=e.gradesClasses[n].class_name,s.gradeClassPeriod=e.gradesClasses[n].class_period,s.gradeClassDesc=e.gradesClasses[n].class_description,s.gradeClassRoom=e.gradesClasses[n].class_room,s.gradeBreakdown=e.gradesClasses[n].class_scale,s.gradeLastUpdate=e.gradesClasses[n].class_updated,s.gradeAverage=e.gradesClasses[n].class_avg,s.gradeGrades=e.gradesClasses[n].grades):(s.goGrades(),t.error("GradesDetailsCtrl: data not found")),e.teachersList&&"{}"!==JSON.stringify(e.teachersList)&&r in e.teachersList?(s.gradeTeacherName=e.teachersList[r].teacher_name,s.gradeTeacherEmail=e.teachersList[r].teacher_email,s.gradeTeacherPhone=e.teachersList[r].teacher_phone,s.gradeTeacherPic=e.teachersList[r].teacher_pic,document.getElementById("teacherPicture").src="data:image/jpeg;base64,"+e.teachersList[r].teacher_pic):t.error("GradesDetailsCtrl: data not found")})}angular.module("studentaccess").controller("GradesDetailsCtrl",["$rootScope","$log","$scope","$stateParams","$state",e])}(),function(){function e(e,t,n,a,r){function s(e){c.classes=e.classes,t.gradesClasses=$array.convertToObject(e.classes)("class_period")}function o(e){t.teachersList=$array.convertToObject(e)("teacher_id")}function i(e){e&&"[]"!==JSON.stringify(e)&&"0"===e.withhold_grades&&null!==e.overall_avg?c.totalAvg=e.overall_avg:e&&"[]"!==JSON.stringify(e)&&"1"===e.withhold_grades?c.totalAvg="$$.$":c.totalAvg="??.?"}var c=this;c.Math=window.Math,c.classes=[],c.refresh=function(){t.refresh(["gradesSchedule","gradesGrades","gradesTeachers"]).then(function(e){e.gradesSchedule&&i(e.gradesSchedule),e.gradesGrades&&s(e.gradesGrades),e.gradesTeachers&&o(e.gradesTeachers)})},r.anything("STUDENT_SCHEDULE","month").then(function(){return a.getStudentSchedule()}).catch(function(){return e.getItem("STUDENT_SCHEDULE",!0).then(function(e){return e.data})}).then(i),r.anything("STUDENT_GRADES","day").then(function(){return a.getStudentGrades()}).catch(function(){return e.getItem("STUDENT_GRADES",!0).then(function(e){return e.data})}).then(s),r.anything("TEACHERS","month").then(function(){return a.getStudentTeachersData()}).catch(function(){return e.getItem("TEACHERS",!0).then(function(e){return e.data})}).then(o)}angular.module("studentaccess").controller("GradesCtrl",["$localForage","$rootScope","$log","StudentService","UpdateService",e])}(),function(){function e(e,t,n,a,r,s,o,i){function c(){s.show({titleText:"<h3>"+r("translate")("HOMEWORK-PICK-CLASS-FILTER")+"</h3>",buttons:u.classes,destructiveText:r("translate")("HOMEWORK-CLEAR-CLASS-FILTER"),cancelText:r("translate")("HOMEWORK-CANCEL-CLASS-FILTER"),cancel:function(){a.log("actionSheet CANCELLED")},buttonClicked:function(e){return u.homeworkFilter.filter=u.classes[e].text,a.log("CLASS PICKED  place in list:",e," ",u.classes[e].text),!0},destructiveButtonClicked:function(){return a.log("CLEARED the filter"),u.homeworkFilter={},!0}})}function l(){n.alert({title:r("translate")("HOMEWORK-NOHOMEWORK"),template:"<center>"+r("translate")("HOMEWORK-NOHOMEWORK-TEXT")+"</center>"})}function d(e){u.homeworkCheckList=e,"[]"!==JSON.stringify(e)?(u.classes=$array.filterByKey(u.homeworkCheckList)("calc_class","text"),u.homeworkFilter={},u.doShowFilterOptions=c):u.doShowFilterOptions=l}var u=this;u.refresh=function(){t.refresh(["homeworkHomework"]).then(function(e){e.homeworkHomework&&d(e.homeworkHomework)})},i.anything("STUDENT_HOMEWORK","day").then(function(){return o.getStudentHomework()}).catch(function(){return e.getItem("STUDENT_HOMEWORK",!0).then(function(e){return e.data})}).then(d)}angular.module("studentaccess").controller("HomeworkCtrl",["$localForage","$rootScope","$ionicPopup","$log","$filter","$ionicActionSheet","StudentService","UpdateService",e])}(),function(){function e(e,t,n,a,r,s,o,i,c,l){var d=this;d.ncaLogo='<img class="ncaLogo" src="./img/icon.png" />StudentAccess',d.data={},r.$on("loginBegin",function(){n.show({template:'<ion-item style="width:250px;color:white">'+t("translate")("LOGIN-LOADING")+'</ion-item><div style="left:27px;height:70px" class="loader"><div class="loader-inner pacman"><div></div><div></div><div></div><div></div><div></div></div></div>'})}),r.$on("teachersDataDone",function(){n.hide()}),l.getItem("STUDENT_CHOSEN_THEME",!0).then(function(t){r.themeCss=t,e.info(t+" was loaded as chosen theme from login")},function(){r.themeCss="mild"}),l.getItem("STUDENT_CHOSEN_LANGUAGE",!0).then(function(t){a.use(t),d.selectedLang=t,e.info(t+" was loaded as chosen language from login")},function(){d.selectedLang="en"}),d.login=function(t){r.$broadcast("loginBegin"),e.info("login.login() called"),i.login(t.usernameInput,t.passwordInput).then(function(t){s.go("app.profile"),e.info("authservice.login was called"),d.data={}},function(e){n.hide(),"success"===c.check(e)?(d.data.passwordInput="",o.alert({title:"Login failed!",template:"<center>Check your User ID and password!</center>"})):"else"===e&&o.alert({title:"Unspecified error!",template:"<center>An error was detected, please try again.</center>"})})},r.show=!0}angular.module("studentaccess").controller("LoginCtrl",["$log","$filter","$ionicLoading","$translate","$rootScope","$state","$ionicPopup","AuthService","NetworkService","$localForage",e])}(),function(){function e(e,t,n,a,r,s,o,i,c,l,d,u,m,g,E,h){function f(){return t(function(t,n){e.getItem("STUDENT_PHOTO",!0).then(function(e){var a=e.filter(function(e){return e.userID===s.userInputsName});a.length?t(a[0].pic):n(s.userInputsName+"'s picture not found")},function(){n("No pictures found")})})}function S(){n.debug("refreshed everything"),g.anything("STUDENT_MISSING","day").then(function(){m.getStudentMissing()}),g.anything("STUDENT_HOMEWORK","day").then(function(){m.getStudentHomework()}),g.anything("STUDENT_GRADES","day").then(function(){m.getStudentGrades()}),g.anything("STUDENT_SCHEDULE","month").then(function(){m.getStudentSchedule()}),g.anything("TEACHERS","month").then(function(){m.getStudentTeachersData()}),g.anything("STUDENT_EVENTS","day").then(function(){m.getStudentEvents()}),g.anything("STUDENT_MENU","day").then(function(){m.getStudentCafeteria()}),g.anything("STUDENT_TRANSACTIONS","month").then(function(){m.getStudentCredit()}),g.anything("STAFF","month").then(function(){m.getStudentStaff()}),g.anything("SCHEDULES","month").then(function(){m.getSchedulesData()})}n.debug("app"),s.refresh=function(e){var a={profileMissing:m.getStudentMissing(),profileStudent:m.getStudentData(),profileSchedules:m.getSchedulesData(),homeworkHomework:m.getStudentHomework(),gradesSchedule:m.getStudentSchedule(),gradesGrades:m.getStudentGrades(),gradesTeachers:m.getStudentTeachersData(),eventsEvents:m.getStudentEvents(),cafeteriaMenu:m.getStudentCafeteria(),cafeteriaTransactions:m.getStudentCredit(),staffStaff:m.getStudentStaff()};return t.all(a).then(function(t){s.$broadcast("scroll.refreshComplete"),o.clearCache();var a={};if(e&&Array.isArray(e)){for(var r=0,i=e.length;r<i;r++)t[e[r]]&&(a[e[r]]=t[e[r]]);n.debug("refresh: all and returned "+e.join(", "))}else n.error("refresh: all and returned empty obj");return a},function(e){E.check(e.status),s.$broadcast("scroll.refreshComplete")})},s.ChangeLanguage=function(t){o.clearCache(),r.use(t),s.language=t,m.getStudentMissing(),m.getStudentHomework(),m.getStudentGrades(),m.getStudentEvents(),m.getStudentCafeteria(),m.getStudentStaff(),e.setItem("STUDENT_CHOSEN_LANGUAGE",t),n.debug(t+" is the chosen language")},s.ChangeTheme=function(t){s.themeCss=t,e.setItem("STUDENT_CHOSEN_THEME",t),n.debug(t+" is the new theme")},s.goBack=function(){o.goBack()},s.logout=function(){o.clearHistory(),o.clearCache(),delete s.studentPhoto,d.logout()},s.$on(u.notAuthenticated,function(e){d.logout(),o.clearCache(),o.clearHistory(),c.go("login"),l.alert({title:"Session Lost!",template:"Sorry, You have to login again."})}),S(),g.studentPic().then(function(){return m.getStudentPhoto()}).catch(function(e){return f()}).then(function(e){function t(){(document.getElementById("studentProfilePic")||document.getElementById("studentMenuPic"))&&(document.getElementById("studentProfilePic")&&(document.getElementById("studentProfilePic").src!=="data:image/jpeg;base64,"+e?(document.getElementById("studentProfilePic").src="data:image/jpeg;base64,"+e,n.debug("setPhoto: profile done")):n.debug("setPhoto: profile already set")),document.getElementById("studentMenuPic")&&(document.getElementById("studentMenuPic").src!=="data:image/jpeg;base64,"+e?(document.getElementById("studentMenuPic").src="data:image/jpeg;base64,"+e,n.debug("setPhoto: menu done")):n.debug("setPhoto: menu already set")));
}s.studentPhoto="data:image/jpeg;base64,"+e,h(function(){t()},1700,2,!1)}),e.getItem("STUDENT_CHOSEN_LANGUAGE",!0).then(function(e){r.use(e),n.debug(e+" was loaded as chosen language"),s.language=e},function(){s.language="en"}),s.langs=[{name:"English",lang:"en"},{name:"Español",lang:"es"}],e.getItem("STUDENT_CHOSEN_THEME",!0).then(function(e){s.themeCss=e,n.debug(e+" was loaded as chosen theme")},function(){s.themeCss="mild"}),s.themes=[{name:"SETTINGS-THEME-LIGHT",url:"light"},{name:"SETTINGS-THEME-MILD",url:"mild"},{name:"SETTINGS-THEME-DARK",url:"dark"}],g.anything("STUDENT_LOGIN","day").then(function(){return m.getStudentData()}).catch(function(){return e.getItem("STUDENT_LOGIN",!0).then(function(e){return e.data})}).then(function(e){if("{}"!==JSON.stringify(e)){var t=e.birthdate.split("-"),n={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"};s.birthday=n[t[1]]+"-"+t[0]}var a=s.date.split("-");s.today=a[1]+"-"+parseInt(a[2])}),s.show=!0}angular.module("studentaccess").controller("AppCtrl",["$localForage","$q","$log","$timeout","$translate","$rootScope","$ionicHistory","$ionicSideMenuDelegate","$state","$ionicPopup","AuthService","AUTH_EVENTS","StudentService","UpdateService","NetworkService","$interval",e])}(),function(){function e(e,t,n,a,r,s,o,i,c,l){function d(e){g.missingsNumber=e.num_missing,g.missingMissing=e.missing}function u(e){"{}"!==JSON.stringify(e)&&(g.eagleCredits=e.credit_student,g.eagleCreditsFam=e.credit_family,g.studentBirthday=e.birthdate,g.studentGrade=e.grade)}function m(e){g.schedules=e,g.schedule=e[0]}var g=this;g.missingsNumber=0,g.refresh=function(){n.refresh(["profileMissing","profileStudent","profileSchedules"]).then(function(e){e.profileMissing&&d(e.profileMissing),e.profileStudent&&u(e.profileStudent),e.profileSchedules&&m(e.profileSchedules)})},g.doShowMissing=function(){g.missingsNumber&&(g.showMissing=!g.showMissing)},g.goGrades=function(){s.go("app.grades")},g.doShowActionSheet=function(){r.show({titleText:"<h3>Pick a Schedule</h3>",buttons:g.schedules,cancelText:a("translate")("HOMEWORK-CANCEL-CLASS-FILTER"),cancel:function(){t.log("actionSheet CANCELLED")},buttonClicked:function(e){return g.schedule=g.schedules[e],t.log("schedule in list: ",e," ",g.schedules[e].type),!0}})},i.anything("STUDENT_MISSING","day").then(function(){return o.getStudentMissing()}).catch(function(){return e.getItem("STUDENT_MISSING",!0).then(function(e){return e.data})}).then(d),i.anything("STUDENT_LOGIN","day").then(function(){return o.getStudentData()}).catch(function(){return e.getItem("STUDENT_LOGIN",!0).then(function(e){return e.data})}).then(u),i.anything("SCHEDULES","month").then(function(){return o.getSchedulesData()}).catch(function(){return e.getItem("SCHEDULES",!0).then(function(e){return e.data})}).then(m)}angular.module("studentaccess").controller("ProfileCtrl",["$localForage","$log","$rootScope","$filter","$ionicActionSheet","$state","StudentService","UpdateService","$ionicPopover","$scope",e])}(),function(e){function t(e,t,n,a,r,s){function o(e,t){window.localStorage.auth="true",g=!0,a.personName="Jacob Orozco"===e.person_name?"LOL":e.person_name,a.userInputsName=t.user,a.userInputsPass=t.pass}function i(e,t){r.setItem(["USER_INPUTS","STUDENT_LOGIN"],[t,s.attachDate(e)]),o(e,t)}function c(){r.getItem(["STUDENT_LOGIN","USER_INPUTS"],!0).then(function(e){o(e[0].data,e[1])},function(){g=!1,window.localStorage.auth="false"})}function l(e,a){return t(function(t,o){n({url:m,method:"GET",params:{mode:"student",query:"login",username:e,password:a}}).then(function(n){u=n.data,1===u.login_status?(i(u,{user:e,pass:a}),t("success"),r.setItem("STUDENT_LOGIN",s.attachDate(u))):o("fail")},function(e){o(e.status<=0?0:"else")})})}function d(){g=!1,window.localStorage.auth="false",r.removeItem(["STUDENT_LOGIN","STUDENT_MISSING","STUDENT_HOMEWORK","STUDENT_SCHEDULE","STUDENT_GRADES","STUDENT_EVENTS","STUDENT_MENU","STUDENT_TRANSACTIONS","SCHEDULES","STAFF","TEACHERS","USER_INPUTS"])}var u,m="https://db.nca.edu.ni/api/api_ewapp.php",g=!1;return returns={login:l,logout:d},c(),returns}e.module("studentaccess").service("AuthService",["$log","$q","$http","$rootScope","$localForage","StudentService",t])}(window.angular),function(e){function t(e,t,n,a,r,s){function o(){n.alert({title:"Ooops!",template:"<center>It seems you're offline. Please check your network connection.</center>"})}function i(e){return e<=0?(o(),"fail"):"success"}function c(n){var a="";"offline"===n&&(a=" Please check your network connection");var r='<div class="network"><div class="card"><ion-item class="item-input item-text-wrap"><p>You are '+n+"!"+a+"</p></ion-item></div></div>",o=jqLite(r);e.log(n),t.append(o),s(function(){o.remove()},5e3)}var l={check:i,popup:o,alert:c};return l}e.module("studentaccess").service("NetworkService",["$log","$ionicBody","$ionicPopup","$http","$rootScope","$timeout",t]),jqLite=e.element}(window.angular),function(e){function t(e,t,n,a,r,s,o){function i(){s.date=e("date")(new Date,"yyyy-MM-dd"),t.debug("todays date: "+s.date)}function c(e){return{date:s.date,data:e}}function l(){return r({url:"schedules.json",method:"GET"}).then(function(e){var n=e.data;return n?o.setItem("SCHEDULES",c(n)):t.error("Failed to get studentData!"),n})}function d(e){o.getItem("STUDENT_PHOTO").then(function(n){var a=s.userInputsName,r=[];n?r=n.map(function(e){return e.userID}):n=[],r.indexOf(a)<0?(n.push({userID:a,date:s.date,pic:e}),o.setItem("STUDENT_PHOTO",n),t.debug("newPic: success")):t.debug("newPic: userAlreadyExists")})}function u(){return r({url:b,method:"GET",params:{mode:"student",lang:s.language,query:"login",username:s.userInputsName,password:s.userInputsPass}}).then(function(e){var n=e.data;return n?o.setItem("STUDENT_LOGIN",c(n)):t.error("Failed to get studentData!"),n})}function m(){return r({url:b,method:"GET",params:{query:"events",mode:"student",lang:s.language,username:s.userInputsName,password:s.userInputsPass}}).then(function(e){var n=e.data.events;return n?o.setItem("STUDENT_EVENTS",c(n)):t.error("Failed to get events!"),n})}function g(){return r({url:b,method:"GET",params:{mode:"student",lang:s.language,query:"homework",username:s.userInputsName,password:s.userInputsPass}}).then(function(e){var n=e.data.homework;return n?o.setItem("STUDENT_HOMEWORK",c(n)):t.error("Failed to get hw!"),n})}function E(){return r({url:b,method:"GET",params:{mode:"student",lang:s.language,query:"allgrades",username:s.userInputsName,password:s.userInputsPass}}).then(function(e){var n=e.data;return n?o.setItem("STUDENT_GRADES",c(n)):t.error("Failed to get grades!"),n})}function h(){return r({url:b,method:"GET",params:{mode:"student",lang:s.language,query:"schedule",username:s.userInputsName,password:s.userInputsPass}}).then(function(e){var n=e.data;return n?o.setItem("STUDENT_SCHEDULE",c(n)):t.error("Failed to getschedule!"),n})}function f(){return r({url:b,method:"GET",params:{mode:"student",lang:s.language,query:"allteachers",username:s.userInputsName,password:s.userInputsPass}}).then(function(e){s.$broadcast("teachersDataDone");var n=e.data.teachers;return n?(o.setItem("TEACHERS",c(n)),t.debug("Success. we got teachers data")):t.error("Failed to get teachers data!"),n},function(e){s.$broadcast("teachersDataDone")})}function S(){return r({url:b,method:"GET",params:{mode:"student",lang:s.language,query:"cafeteria",username:s.userInputsName,password:s.userInputsPass}}).then(function(e){var n=e.data.menu;return n?o.setItem("STUDENT_MENU",c(n)):t.error("Failed to get food!"),n})}function p(){return r({url:b,method:"GET",params:{mode:"student",lang:s.language,query:"credit",username:s.userInputsName,password:s.userInputsPass}}).then(function(e){var n=e.data.transactions;return n?o.setItem("STUDENT_TRANSACTIONS",c(n)):t.error("Failed to get credit history!"),n})}function v(){return r({url:b,method:"GET",params:{mode:"student",lang:s.language,query:"missing",username:s.userInputsName,password:s.userInputsPass}}).then(function(e){var n=e.data;return n?o.setItem("STUDENT_MISSING",c(n)):t.error("Failed to get missing ass.!"),n})}function T(){return r({url:b,method:"GET",params:{mode:"student",lang:s.language,query:"staff",username:s.userInputsName,password:s.userInputsPass}}).then(function(e){var n=e.data.staff_list;return n?o.setItem("STAFF",c(n)):t.error("Failed to get staff list!"),n})}function I(){return r({url:b,method:"GET",params:{mode:"student",lang:s.language,query:"myphoto",username:s.userInputsName,password:s.userInputsPass}}).then(function(e){var n=e.data;return n?d(n):t.error("Failed to get photo!"),n})}var b="https://db.nca.edu.ni/api/api_ewapp.php",A={attachDate:c,getSchedulesData:l,getStudentCredit:p,getStudentEvents:m,getStudentData:u,getStudentHomework:g,getStudentCafeteria:S,getStudentMissing:v,getStudentSchedule:h,getStudentGrades:E,getStudentStaff:T,getStudentPhoto:I,getStudentTeachersData:f};return t.debug("stu"),i(),A}e.module("studentaccess").service("StudentService",["$filter","$log","$timeout","$q","$http","$rootScope","$localForage",t])}(window.angular),function(e){function t(e,t,n,a){function r(){return t(function(t,r){a.getItem(["STUDENT_PHOTO","USER_INPUTS"],!0).then(function(a){var s,o,i=e.date.split("-"),c=i[0]+"-"+i[1],l=a[0].filter(function(e){return e.userID===a[1].user});l.length?(s=l[0].date.split("-"),o=s[0]+"-"+s[1],c!==o?(t("get new pic"),n.debug("US.studentPic: get new pic")):(r("pic still valid"),n.debug("US.studentPic: pic still valid"))):t("current user does not exist")},function(){t("undef"),n.debug("US.studentPic: was undef")})})}function s(r,s){return t(function(t,o){r&&s?a.getItem(r,!0).then(function(a){var i,c,l=e.date.split("-"),d=a.date.split("-");"month"===s?(i=l[0]+"-"+l[1],c=d[0]+"-"+d[1]):"day"===s?(i=e.date,c=a.date):n.error("US.anything: bad mode"),i===c?(o("still valid"),n.debug("US.anything: "+r+" still valid")):(t("make call"),n.debug("US.anything: "+r+" outdated"))},function(){t("undef"),n.debug("US.anything: "+r+" was undef")}):n.error("US.anything: bad params")})}var o={studentPic:r,anything:s};return o}e.module("studentaccess").service("UpdateService",["$rootScope","$q","$log","$localForage",t])}(window.angular),function(){function e(e,t,n,a,r,s){var o=this;o.doShowDeletePics=function(){r.getItem("STUDENT_PHOTO",!0).then(function(o){o.length>1?e.confirm({title:a("translate")("SETTINGS-DELETE-TITLE"),template:'<div style="text-align:center">'+a("translate")("SETTINGS-DELETE-PICS-MESSAGE")+"</div>",cancelText:a("translate")("SETTINGS-CANCEL"),okType:"button-assertive",okText:a("translate")("SETTINGS-DELETE")}).then(function(e){if(e){t.show({template:'<ion-item style="width:250px;color:white">'+a("translate")("LOGIN-LOADING")+'</ion-item><div style="left:27px;height:70px" class="loader"><div class="loader-inner pacman"><div></div><div></div><div></div><div></div><div></div></div></div>'});var i=[];i=o.filter(function(e){return e.userID===s.userInputsName}),r.setItem("STUDENT_PHOTO",i),n(function(){t.hide()},4500)}}):e.alert({title:a("translate")("SETTINGS-NO-PICS")})})}}angular.module("studentaccess").controller("SettingsCtrl",["$ionicPopup","$ionicLoading","$timeout","$filter","$localForage","$rootScope",e])}(),function(){function e(e,t,n,a){var r=this;r.goStaff=function(){n.go("app.staff")};var s=a.STAFFID;e.staffList&&"{}"!==JSON.stringify(e.staffList)&&s in e.staffList?(r.staffStatus=e.staffList[s].calc_status,r.staffName=e.staffList[s].calc_name,r.staffHomePhone=e.staffList[s].calc_homephone,r.staffPhone=e.staffList[s].calc_phone,r.staffEmail=e.staffList[s].calc_email):(r.goStaff(),t.error("StaffDetailsCtrl: data not found"))}angular.module("studentaccess").controller("StaffDetailsCtrl",["$rootScope","$log","$state","$stateParams",e])}(),function(){function e(e,t,n,a,r,s){function o(e){i.staffList=e,n.staffList=$array.convertToObject(e)("t_id")}var i=this;i.loadMore=function(){i.limit+=10,e.$broadcast("scroll.infiniteScrollComplete")},i.emptySearchBar=function(){i.searchBar.bar=""},i.doShowSearchBar=function(){i.showSearchBar=!i.showSearchBar,i.searchBar.bar=""},i.refresh=function(){n.refresh(["staffStaff"]).then(function(e){e.staffStaff&&o(e.staffStaff)})},s.anything("STAFF","month").then(function(){return r.getStudentStaff()}).catch(function(){return t.getItem("STAFF",!0).then(function(e){return e.data})}).then(o),i.searchBar={},i.limit=15}angular.module("studentaccess").controller("StaffCtrl",["$scope","$localForage","$rootScope","$log","StudentService","UpdateService",e])}();